(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),s=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,...u},h)=>(0,n.createElement)("svg",{ref:h,...a,width:s,height:s,stroke:r,strokeWidth:o?24*Number(l)/Number(s):l,className:["lucide",`lucide-${i(e)}`,c].join(" "),...u},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r}},4689:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},9670:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5119:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},8004:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},4322:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},9409:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3505:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},3673:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},5750:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4424:function(e,t,r){"use strict";r.d(t,{l:function(){return N}});var n=r(7437),a=r(2265),i=r(1396),s=r.n(i),l=r(4033),o=r(5564),c=r(5119),d=r(4322),u=r(3673),h=r(3505),m=r(5750),x=r(4689),f=r(9409),y=r(2549),g=r(8004),v=r(9670),p=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,p.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var k=r(3611),j=r(1628);let w=[{name:"Dashboard",href:"/admin/dashboard",icon:c.Z},{name:"Products",href:"/admin/products",icon:d.Z},{name:"Categories",href:"/admin/categories",icon:u.Z},{name:"Orders",href:"/admin/orders",icon:h.Z},{name:"Customers",href:"/admin/customers",icon:m.Z},{name:"Analytics",href:"/admin/analytics",icon:x.Z},{name:"Settings",href:"/admin/settings",icon:f.Z}];function N(e){let{children:t}=e,[r,i]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),{user:u,logout:h}=(0,o.useAdmin)(),m=(0,l.usePathname)(),x=()=>{let e=!c;d(e),localStorage.setItem("admin-sidebar-collapsed",JSON.stringify(e))};return(0,a.useEffect)(()=>{let e=localStorage.getItem("admin-sidebar-collapsed");null!==e&&d(JSON.parse(e))},[]),(0,a.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"b"===e.key&&(e.preventDefault(),x())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[x]),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,n.jsxs)("div",{className:(0,j.cn)("fixed inset-0 flex z-50 md:hidden",r?"block":"hidden"),children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>i(!1)}),(0,n.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white shadow-xl",children:[(0,n.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,n.jsx)("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>i(!1),children:(0,n.jsx)(y.Z,{className:"h-6 w-6 text-white"})})}),(0,n.jsx)(Z,{navigation:w,pathname:m})]})]}),(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)("div",{className:(0,j.cn)("fixed top-4 left-4 z-30 h-[calc(100vh-2rem)] bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden transition-all duration-300",c?"w-16":"w-64"),children:(0,n.jsx)(Z,{navigation:w,pathname:m,collapsed:c,onToggleCollapse:x})})}),(0,n.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,n.jsx)("div",{className:"md:hidden sticky top-0 z-20 bg-white border-b border-gray-200 px-4 py-3",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("button",{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:()=>i(!0),children:(0,n.jsx)(g.Z,{className:"h-6 w-6"})}),(0,n.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"AllDeals Admin"}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(k.z,{variant:"outline",size:"sm",asChild:!0,children:(0,n.jsx)(s(),{href:"/",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(v.Z,{className:"w-4 h-4"})})}),(0,n.jsx)(k.z,{variant:"outline",size:"sm",onClick:h,children:(0,n.jsx)(b,{className:"w-4 h-4"})})]})]})}),(0,n.jsx)("header",{className:(0,j.cn)("hidden md:block bg-white shadow-sm border-b border-gray-200 mr-4 mt-4 rounded-lg transition-all duration-300",c?"ml-20":"ml-72"),children:(0,n.jsx)("div",{className:"px-6 py-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"AllDeals Admin"})}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"text-sm text-gray-700",children:["Welcome, ",(0,n.jsx)("span",{className:"font-medium",children:null==u?void 0:u.name})]}),(0,n.jsx)(k.z,{variant:"outline",size:"sm",asChild:!0,children:(0,n.jsxs)(s(),{href:"/",target:"_blank",rel:"noopener noreferrer",children:[(0,n.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"View as Customer"]})}),(0,n.jsxs)(k.z,{variant:"outline",size:"sm",onClick:h,children:[(0,n.jsx)(b,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),(0,n.jsx)("main",{className:(0,j.cn)("flex-1 md:mr-4 md:mb-4 transition-all duration-300",c?"md:ml-20":"md:ml-72"),children:(0,n.jsx)("div",{className:"bg-white md:rounded-lg md:shadow-sm md:border md:border-gray-200 min-h-[calc(100vh-8rem)]",children:(0,n.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:t})})})]})]})}function Z(e){let{navigation:t,pathname:r,collapsed:a=!1,onToggleCollapse:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center h-16 flex-shrink-0 px-4 bg-blue-600 justify-between",children:[!a&&(0,n.jsx)("h1",{className:"text-white text-xl font-bold",children:"AllDeals"}),a&&(0,n.jsx)("div",{className:"text-white text-xl font-bold",children:"AD"}),i&&(0,n.jsx)("button",{onClick:i,className:"text-white hover:bg-blue-700 p-1 rounded transition-colors",title:a?"Expand Sidebar":"Collapse Sidebar",children:(0,n.jsx)(g.Z,{className:"h-5 w-5"})})]}),(0,n.jsx)("div",{className:"flex-1 flex flex-col overflow-y-auto",children:(0,n.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1",children:t.map(e=>{let t=r===e.href||r.startsWith(e.href+"/");return(0,n.jsxs)(s(),{href:e.href,className:(0,j.cn)("group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors relative",t?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900",a&&"justify-center"),title:a?e.name:void 0,children:[(0,n.jsx)(e.icon,{className:(0,j.cn)("flex-shrink-0 h-5 w-5",a?"mr-0":"mr-3",t?"text-blue-500":"text-gray-400 group-hover:text-gray-500")}),!a&&(0,n.jsx)("span",{className:"transition-opacity duration-300",children:e.name}),a&&(0,n.jsx)("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:e.name})]},e.name)})})})]})}},5564:function(e,t,r){"use strict";r.r(t),r.d(t,{AdminProvider:function(){return l},useAdmin:function(){return o}});var n=r(7437),a=r(2265),i=r(4033);let s=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),d=(0,i.useRouter)(),u=(0,i.usePathname)();return((0,a.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("admin_token");if(!e){"/admin/login"!==u&&d.push("/admin/login"),c(!1);return}try{let t=await fetch("/api/admin/auth/verify",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();l(e.user),"/admin/login"===u&&d.push("/admin/dashboard")}else localStorage.removeItem("admin_token"),"/admin/login"!==u&&d.push("/admin/login")}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("admin_token"),"/admin/login"!==u&&d.push("/admin/login")}finally{c(!1)}};e()},[u,d]),o)?(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,n.jsx)(s.Provider,{value:{user:r,isLoading:o,logout:()=>{localStorage.removeItem("admin_token"),l(null),d.push("/admin/login")}},children:t})}function o(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e}},3611:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),a=r(2265),i=r(7256),s=r(6061),l=r(1628);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:a,size:s,className:r})),ref:t,...d})});c.displayName="Button"},1628:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(7042),a=r(4769);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},1396:function(e,t,r){e.exports=r(8326)},4033:function(e,t,r){e.exports=r(94)}}]);