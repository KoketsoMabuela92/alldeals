(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var i=r(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,t)=>{let r=(0,i.forwardRef)(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:u="",children:l,...d},m)=>(0,i.createElement)("svg",{ref:m,...n,width:a,height:a,stroke:r,strokeWidth:c?24*Number(s)/Number(a):s,className:["lucide",`lucide-${o(e)}`,u].join(" "),...d},[...t.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r}},7810:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3505:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},7e3:function(e,t,r){Promise.resolve().then(r.bind(r,1326)),Promise.resolve().then(r.bind(r,2023)),Promise.resolve().then(r.bind(r,7702)),Promise.resolve().then(r.bind(r,3130)),Promise.resolve().then(r.bind(r,1271)),Promise.resolve().then(r.bind(r,762)),Promise.resolve().then(r.t.bind(r,413,23)),Promise.resolve().then(r.t.bind(r,8326,23))},1326:function(e,t,r){"use strict";r.r(t),r.d(t,{AddToCartButton:function(){return u}});var i=r(7437),n=r(2265),o=r(3505),a=r(3611),s=r(4962),c=r(446);function u(e){let{product:t,className:r,size:u="default"}=e,[l,d]=(0,n.useState)(!1),{addItem:m}=(0,s.x)(),f=async()=>{d(!0);try{m({id:t.id,name:t.name,price:t.price,image:t.image,stock:t.stock}),(0,c.Am)({title:"Added to cart",description:"".concat(t.name," has been added to your cart.")})}catch(e){(0,c.Am)({title:"Error",description:"Failed to add item to cart. Please try again.",variant:"destructive"})}finally{d(!1)}};return(0,i.jsxs)(a.z,{onClick:f,disabled:l||0===t.stock,className:r,size:u,children:[(0,i.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),l?"Adding...":0===t.stock?"Out of Stock":"Add to Cart"]})}},2023:function(e,t,r){"use strict";r.r(t),r.d(t,{AdminPreviewClient:function(){return n}});var i=r(2265);function n(e){let{productId:t,categoryId:r,currentPage:n}=e;return(0,i.useEffect)(()=>{window.__adminPreviewData={productId:t,categoryId:r,currentPage:n}},[t,r,n]),null}},7323:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return a},useAuth:function(){return s}});var i=r(7437),n=r(2265);let o=(0,n.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,n.useState)(null),[s,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("user_token"),t=localStorage.getItem("user_data");if(e&&t)try{let e=JSON.parse(t);a(e)}catch(e){console.error("Error parsing user data:",e),localStorage.removeItem("user_token"),localStorage.removeItem("user_data")}c(!1)},[]);let u=async(e,t)=>{try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),i=await r.json();if(r.ok)return localStorage.setItem("user_token",i.token),localStorage.setItem("user_data",JSON.stringify(i.user)),a(i.user),!0;return!1}catch(e){return console.error("Login error:",e),!1}};return(0,i.jsx)(o.Provider,{value:{user:r,isAuthenticated:!!r,login:u,logout:()=>{localStorage.removeItem("user_token"),localStorage.removeItem("user_data"),a(null)},loading:s},children:t})}function s(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7702:function(e,t,r){"use strict";r.r(t),r.d(t,{BuyNowButton:function(){return s}});var i=r(7437),n=r(3611),o=r(4962),a=r(446);function s(e){let{product:t,className:r,size:s="lg"}=e,{addItem:c}=(0,o.x)();return(0,i.jsx)(n.z,{variant:"outline",size:s,className:r,onClick:()=>{try{c({id:t.id,name:t.name,price:t.price,image:t.image,stock:t.stock}),(0,a.Am)({title:"Added to cart",description:"".concat(t.name," has been added to your cart.")}),setTimeout(()=>{window.location.href="/cart"},1e3)}catch(e){(0,a.Am)({title:"Error",description:"Failed to add item to cart. Please try again.",variant:"destructive"})}},disabled:0===t.stock,children:0===t.stock?"Out of Stock":"Buy Now"})}},3130:function(e,t,r){"use strict";r.r(t),r.d(t,{ClientWrapper:function(){return n}});var i=r(7437);function n(e){let{children:t}=e;return(0,i.jsx)(i.Fragment,{children:t})}},1271:function(e,t,r){"use strict";r.r(t),r.d(t,{ProductImageGallery:function(){return d}});var i=r(7437),n=r(2265),o=r(6691),a=r.n(o),s=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),u=(0,s.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var l=r(3611);function d(e){let{images:t,productName:r}=e,[o,s]=(0,n.useState)(0);return t&&0!==t.length?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100 group",children:[(0,i.jsx)(a(),{src:t[o].url,alt:t[o].altText||r,fill:!0,className:"object-cover",priority:!0}),t.length>1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.z,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{s(e=>(e-1+t.length)%t.length)},children:(0,i.jsx)(c,{className:"h-4 w-4"})}),(0,i.jsx)(l.z,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{s(e=>(e+1)%t.length)},children:(0,i.jsx)(u,{className:"h-4 w-4"})})]}),t.length>1&&(0,i.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white px-2 py-1 rounded text-xs",children:[o+1," / ",t.length]})]}),t.length>1&&(0,i.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:t.map((e,t)=>(0,i.jsx)("button",{className:"relative flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-colors ".concat(t===o?"border-blue-600":"border-gray-200 hover:border-gray-300"),onClick:()=>s(t),children:(0,i.jsx)(a(),{src:e.url,alt:e.altText||r,fill:!0,className:"object-cover"})},e.id))})]}):(0,i.jsx)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100",children:(0,i.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No image available"})})}},3611:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var i=r(7437),n=r(2265),o=r(7256),a=r(6061),s=r(1628);let c=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:u=!1,...l}=e,d=u?o.g7:"button";return(0,i.jsx)(d,{className:(0,s.cn)(c({variant:n,size:a,className:r})),ref:t,...l})});u.displayName="Button"},762:function(e,t,r){"use strict";r.r(t),r.d(t,{WishlistButton:function(){return d}});var i=r(7437),n=r(2265),o=r(7810),a=r(3611),s=r(4962),c=r(446),u=r(7323),l=r(4033);function d(e){let{product:t,className:r,size:d="icon"}=e,[m,f]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),{addItem:v,removeItem:p,isInWishlist:y}=(0,s.Y)(),{isAuthenticated:b}=(0,u.useAuth)(),x=(0,l.useRouter)(),w=!!h&&y(t.id);(0,n.useEffect)(()=>{g(!0)},[]);let k=async()=>{if(!b){(0,c.Am)({title:"Login Required",description:"Please log in to add items to your wishlist.",variant:"destructive"}),x.push("/login?redirect=".concat(encodeURIComponent(window.location.pathname)));return}f(!0);try{w?(p(t.id),(0,c.Am)({title:"Removed from wishlist",description:"".concat(t.name," has been removed from your wishlist.")})):(v({id:t.id,name:t.name,price:t.price,image:t.image}),(0,c.Am)({title:"Added to wishlist",description:"".concat(t.name," has been added to your wishlist.")}))}catch(e){(0,c.Am)({title:"Error",description:"Failed to update wishlist. Please try again.",variant:"destructive"})}finally{f(!1)}};return(0,i.jsxs)(a.z,{onClick:k,disabled:m,variant:w?"default":"outline",className:r,size:d,children:[(0,i.jsx)(o.Z,{className:"h-4 w-4 ".concat(w?"fill-current":"")}),"icon"!==d&&(w?"In Wishlist":"Add to Wishlist")]})}},446:function(e,t,r){"use strict";r.d(t,{Am:function(){return d},pm:function(){return m}});var i=r(2265);let n=0,o=new Map,a=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},s=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?a(r):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],u={toasts:[]};function l(e){u=s(u,e),c.forEach(e=>{e(u)})}function d(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),i=()=>l({type:"DISMISS_TOAST",toastId:r});return l({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||i()}}}),{id:r,dismiss:i,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=i.useState(u);return i.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},4962:function(e,t,r){"use strict";r.d(t,{Y:function(){return a},x:function(){return o}});var i=r(4660),n=r(4810);let o=(0,i.Ue)()((0,n.tJ)((e,t)=>({items:[],addItem:t=>e(e=>{let r=e.items.find(e=>e.id===t.id);return r?{items:e.items.map(e=>e.id===t.id?{...e,quantity:Math.min(e.quantity+1,e.stock)}:e)}:{items:[...e.items,{...t,quantity:1}]}}),removeItem:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),updateQuantity:(t,r)=>e(e=>({items:e.items.map(e=>e.id===t?{...e,quantity:Math.max(0,Math.min(r,e.stock))}:e).filter(e=>e.quantity>0)})),clearCart:()=>e({items:[]}),getTotalItems:()=>{let{items:e}=t();return e.reduce((e,t)=>e+t.quantity,0)},getTotalPrice:()=>{let{items:e}=t();return e.reduce((e,t)=>e+t.price*t.quantity,0)}}),{name:"cart-storage"})),a=(0,i.Ue)()((0,n.tJ)((e,t)=>({items:[],addItem:t=>e(e=>{let r=e.items.find(e=>e.id===t.id);return r?e:{items:[...e.items,t]}}),removeItem:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),isInWishlist:e=>{let{items:r}=t();return r.some(t=>t.id===e)},clearWishlist:()=>e({items:[]})}),{name:"wishlist-storage"}))},1628:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var i=r(7042),n=r(4769);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,i.W)(t))}},679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{unstable_getImgProps:function(){return c},default:function(){return u}});let i=r(1024),n=r(7929),o=r(2637),a=r(413),s=i._(r(9950)),c=e=>{(0,o.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,n.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},u=a.Image},6691:function(e,t,r){e.exports=r(679)},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[621,326,413,166,971,472,560],function(){return e(e.s=7e3)}),_N_E=e.O()}]);