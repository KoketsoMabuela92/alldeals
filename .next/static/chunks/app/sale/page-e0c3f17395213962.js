(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{2898:function(t,e,r){"use strict";r.d(e,{Z:function(){return s}});var i=r(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),s=(t,e)=>{let r=(0,i.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:c="",children:d,...l},m)=>(0,i.createElement)("svg",{ref:m,...n,width:s,height:s,stroke:r,strokeWidth:u?24*Number(a)/Number(s):a,className:["lucide",`lucide-${o(t)}`,c].join(" "),...l},[...e.map(([t,e])=>(0,i.createElement)(t,e)),...Array.isArray(d)?d:[d]]));return r.displayName=`${t}`,r}},7810:function(t,e,r){"use strict";r.d(e,{Z:function(){return n}});var i=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3505:function(t,e,r){"use strict";r.d(e,{Z:function(){return n}});var i=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1362:function(t,e,r){Promise.resolve().then(r.bind(r,1326)),Promise.resolve().then(r.bind(r,3130)),Promise.resolve().then(r.bind(r,762)),Promise.resolve().then(r.t.bind(r,413,23)),Promise.resolve().then(r.t.bind(r,8326,23))},1326:function(t,e,r){"use strict";r.r(e),r.d(e,{AddToCartButton:function(){return c}});var i=r(7437),n=r(2265),o=r(3505),s=r(3611),a=r(4962),u=r(446);function c(t){let{product:e,className:r,size:c="default"}=t,[d,l]=(0,n.useState)(!1),{addItem:m}=(0,a.x)(),f=async()=>{l(!0);try{m({id:e.id,name:e.name,price:e.price,image:e.image,stock:e.stock}),(0,u.Am)({title:"Added to cart",description:"".concat(e.name," has been added to your cart.")})}catch(t){(0,u.Am)({title:"Error",description:"Failed to add item to cart. Please try again.",variant:"destructive"})}finally{l(!1)}};return(0,i.jsxs)(s.z,{onClick:f,disabled:d||0===e.stock,className:r,size:c,children:[(0,i.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),d?"Adding...":0===e.stock?"Out of Stock":"Add to Cart"]})}},7323:function(t,e,r){"use strict";r.r(e),r.d(e,{AuthProvider:function(){return s},useAuth:function(){return a}});var i=r(7437),n=r(2265);let o=(0,n.createContext)(void 0);function s(t){let{children:e}=t,[r,s]=(0,n.useState)(null),[a,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let t=localStorage.getItem("user_token"),e=localStorage.getItem("user_data");if(t&&e)try{let t=JSON.parse(e);s(t)}catch(t){console.error("Error parsing user data:",t),localStorage.removeItem("user_token"),localStorage.removeItem("user_data")}u(!1)},[]);let c=async(t,e)=>{try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})}),i=await r.json();if(r.ok)return localStorage.setItem("user_token",i.token),localStorage.setItem("user_data",JSON.stringify(i.user)),s(i.user),!0;return!1}catch(t){return console.error("Login error:",t),!1}};return(0,i.jsx)(o.Provider,{value:{user:r,isAuthenticated:!!r,login:c,logout:()=>{localStorage.removeItem("user_token"),localStorage.removeItem("user_data"),s(null)},loading:a},children:e})}function a(){let t=(0,n.useContext)(o);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}},3130:function(t,e,r){"use strict";r.r(e),r.d(e,{ClientWrapper:function(){return n}});var i=r(7437);function n(t){let{children:e}=t;return(0,i.jsx)(i.Fragment,{children:e})}},3611:function(t,e,r){"use strict";r.d(e,{z:function(){return c}});var i=r(7437),n=r(2265),o=r(7256),s=r(6061),a=r(1628);let u=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((t,e)=>{let{className:r,variant:n,size:s,asChild:c=!1,...d}=t,l=c?o.g7:"button";return(0,i.jsx)(l,{className:(0,a.cn)(u({variant:n,size:s,className:r})),ref:e,...d})});c.displayName="Button"},762:function(t,e,r){"use strict";r.r(e),r.d(e,{WishlistButton:function(){return l}});var i=r(7437),n=r(2265),o=r(7810),s=r(3611),a=r(4962),u=r(446),c=r(7323),d=r(4033);function l(t){let{product:e,className:r,size:l="icon"}=t,[m,f]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),{addItem:g,removeItem:v,isInWishlist:y}=(0,a.Y)(),{isAuthenticated:A}=(0,c.useAuth)(),S=(0,d.useRouter)(),b=!!h&&y(e.id);(0,n.useEffect)(()=>{p(!0)},[]);let k=async()=>{if(!A){(0,u.Am)({title:"Login Required",description:"Please log in to add items to your wishlist.",variant:"destructive"}),S.push("/login?redirect=".concat(encodeURIComponent(window.location.pathname)));return}f(!0);try{b?(v(e.id),(0,u.Am)({title:"Removed from wishlist",description:"".concat(e.name," has been removed from your wishlist.")})):(g({id:e.id,name:e.name,price:e.price,image:e.image}),(0,u.Am)({title:"Added to wishlist",description:"".concat(e.name," has been added to your wishlist.")}))}catch(t){(0,u.Am)({title:"Error",description:"Failed to update wishlist. Please try again.",variant:"destructive"})}finally{f(!1)}};return(0,i.jsxs)(s.z,{onClick:k,disabled:m,variant:b?"default":"outline",className:r,size:l,children:[(0,i.jsx)(o.Z,{className:"h-4 w-4 ".concat(b?"fill-current":"")}),"icon"!==l&&(b?"In Wishlist":"Add to Wishlist")]})}},446:function(t,e,r){"use strict";r.d(e,{Am:function(){return l},pm:function(){return m}});var i=r(2265);let n=0,o=new Map,s=t=>{if(o.has(t))return;let e=setTimeout(()=>{o.delete(t),d({type:"REMOVE_TOAST",toastId:t})},1e6);o.set(t,e)},a=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:r}=e;return r?s(r):t.toasts.forEach(t=>{s(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===r||void 0===r?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},u=[],c={toasts:[]};function d(t){c=a(c,t),u.forEach(t=>{t(c)})}function l(t){let{...e}=t,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),i=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:t=>{t||i()}}}),{id:r,dismiss:i,update:t=>d({type:"UPDATE_TOAST",toast:{...t,id:r}})}}function m(){let[t,e]=i.useState(c);return i.useEffect(()=>(u.push(e),()=>{let t=u.indexOf(e);t>-1&&u.splice(t,1)}),[t]),{...t,toast:l,dismiss:t=>d({type:"DISMISS_TOAST",toastId:t})}}},4962:function(t,e,r){"use strict";r.d(e,{Y:function(){return s},x:function(){return o}});var i=r(4660),n=r(4810);let o=(0,i.Ue)()((0,n.tJ)((t,e)=>({items:[],addItem:e=>t(t=>{let r=t.items.find(t=>t.id===e.id);return r?{items:t.items.map(t=>t.id===e.id?{...t,quantity:Math.min(t.quantity+1,t.stock)}:t)}:{items:[...t.items,{...e,quantity:1}]}}),removeItem:e=>t(t=>({items:t.items.filter(t=>t.id!==e)})),updateQuantity:(e,r)=>t(t=>({items:t.items.map(t=>t.id===e?{...t,quantity:Math.max(0,Math.min(r,t.stock))}:t).filter(t=>t.quantity>0)})),clearCart:()=>t({items:[]}),getTotalItems:()=>{let{items:t}=e();return t.reduce((t,e)=>t+e.quantity,0)},getTotalPrice:()=>{let{items:t}=e();return t.reduce((t,e)=>t+e.price*e.quantity,0)}}),{name:"cart-storage"})),s=(0,i.Ue)()((0,n.tJ)((t,e)=>({items:[],addItem:e=>t(t=>{let r=t.items.find(t=>t.id===e.id);return r?t:{items:[...t.items,e]}}),removeItem:e=>t(t=>({items:t.items.filter(t=>t.id!==e)})),isInWishlist:t=>{let{items:r}=e();return r.some(e=>e.id===t)},clearWishlist:()=>t({items:[]})}),{name:"wishlist-storage"}))},1628:function(t,e,r){"use strict";r.d(e,{cn:function(){return o}});var i=r(7042),n=r(4769);function o(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,n.m6)((0,i.W)(e))}},4033:function(t,e,r){t.exports=r(94)}},function(t){t.O(0,[621,326,413,166,971,472,560],function(){return t(t.s=1362)}),_N_E=t.O()}]);