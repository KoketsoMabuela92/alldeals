(()=>{var e={};e.id=5920,e.ids=[5920],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13411:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>m,routeModule:()=>p,tree:()=>d});var s=a(67096),r=a(16132),i=a(37284),n=a.n(i),l=a(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["admin",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,78379)),"/Users/koketsomabuela/alldeals/app/admin/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,86631)),"/Users/koketsomabuela/alldeals/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,46831)),"/Users/koketsomabuela/alldeals/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/koketsomabuela/alldeals/app/admin/login/page.tsx"],c="/admin/login/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/login/page",pathname:"/admin/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},20884:(e,t,a)=>{Promise.resolve().then(a.bind(a,67622))},41699:(e,t,a)=>{Promise.resolve().then(a.bind(a,88593))},67622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(53854),r=a(34218),i=a(51018),n=a(34212),l=a(63614),o=a(37546),d=a(7857),m=a(24769),c=a(62412),u=a(31974);function p(){let[e,t]=(0,r.useState)(""),[a,p]=(0,r.useState)(""),[x,g]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),v=(0,i.useRouter)(),b=async t=>{t.preventDefault(),f(!0);try{let t=await fetch("/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),s=await t.json();t.ok?((0,u.Am)({title:"Login successful",description:"Welcome to the admin dashboard"}),localStorage.setItem("admin_token",s.token),v.push("/admin/dashboard")):(0,u.Am)({title:"Login failed",description:s.error||"Invalid credentials",variant:"destructive"})}catch(e){(0,u.Am)({title:"Error",description:"Failed to login. Please try again.",variant:"destructive"})}finally{f(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mb-4",children:s.jsx(n.Z,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Access the AllDeals back office"})]}),(0,s.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx(c._,{htmlFor:"email",children:"Email Address"}),s.jsx(m.I,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"admin@alldeals.com",required:!0,className:"mt-1"})]}),(0,s.jsxs)("div",{children:[s.jsx(c._,{htmlFor:"password",children:"Password"}),(0,s.jsxs)("div",{className:"relative mt-1",children:[s.jsx(m.I,{id:"password",type:x?"text":"password",value:a,onChange:e=>p(e.target.value),placeholder:"Enter your password",required:!0}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?s.jsx(l.Z,{className:"h-4 w-4 text-gray-400"}):s.jsx(o.Z,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsx(d.z,{type:"submit",className:"w-full",disabled:h,children:h?"Signing in...":"Sign In"})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Demo Credentials:"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Email: admin@alldeals.com"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Password: admin123"})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"\xa9 2024 AllDeals. All rights reserved."})})]})})}},88593:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AdminProvider:()=>l,useAdmin:()=>o});var s=a(53854),r=a(34218),i=a(51018);let n=(0,r.createContext)(void 0);function l({children:e}){let[t,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),d=(0,i.useRouter)(),m=(0,i.usePathname)();return((0,r.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("admin_token");if(!e){"/admin/login"!==m&&d.push("/admin/login"),o(!1);return}try{let t=await fetch("/api/admin/auth/verify",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();a(e.user),"/admin/login"===m&&d.push("/admin/dashboard")}else localStorage.removeItem("admin_token"),"/admin/login"!==m&&d.push("/admin/login")}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("admin_token"),"/admin/login"!==m&&d.push("/admin/login")}finally{o(!1)}};e()},[m,d]),l)?s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx(n.Provider,{value:{user:t,isLoading:l,logout:()=>{localStorage.removeItem("admin_token"),a(null),d.push("/admin/login")}},children:e})}function o(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e}},24769:(e,t,a)=>{"use strict";a.d(t,{I:()=>n});var s=a(53854),r=a(34218),i=a(56370);let n=r.forwardRef(({className:e,type:t,...a},r)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));n.displayName="Input"},62412:(e,t,a)=>{"use strict";a.d(t,{_:()=>c});var s=a(53854),r=a(34218);a(73638);var i=a(15001),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,i.Z8)(`Primitive.${t}`),Node=r.forwardRef((e,r)=>{let{asChild:i,...n}=e,l=i?a:t;return(0,s.jsx)(l,{...n,ref:r})});return Node.displayName=`Primitive.${t}`,{...e,[t]:Node}},{}),l=r.forwardRef((e,t)=>(0,s.jsx)(n.label,{...e,ref:t,onMouseDown:t=>{let a=t.target;a.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var o=a(82457),d=a(56370);let m=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...t},a)=>s.jsx(l,{ref:a,className:(0,d.cn)(m(),e),...t}));c.displayName=l.displayName},34212:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},86631:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(4656),r=a(95153);let i=(0,r.createProxy)(String.raw`/Users/koketsomabuela/alldeals/components/admin/admin-provider.tsx`),{__esModule:n,$$typeof:l}=i;i.default;let o=(0,r.createProxy)(String.raw`/Users/koketsomabuela/alldeals/components/admin/admin-provider.tsx#AdminProvider`);function d({children:e}){return s.jsx(o,{children:e})}(0,r.createProxy)(String.raw`/Users/koketsomabuela/alldeals/components/admin/admin-provider.tsx#useAdmin`)},78379:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var s=a(95153);let r=(0,s.createProxy)(String.raw`/Users/koketsomabuela/alldeals/app/admin/login/page.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,o=l}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[3271,6267,9939],()=>a(13411));module.exports=s})();