"use strict";(()=>{var e={};e.id=9358,e.ids=[9358],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},12781:e=>{e.exports=require("stream")},73837:e=>{e.exports=require("util")},11725:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>P,originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>k,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>b});var s={};r.r(s),r.d(s,{GET:()=>p});var a=r(10884),o=r(16132),i=r(21040),n=r(95798),u=r(15204),d=r(96721),l=r.n(d);let c=process.env.JWT_SECRET||"your-super-secret-jwt-key-change-in-production";async function p(e){try{let t=e.headers.get("authorization");if(!t||!t.startsWith("Bearer "))return n.Z.json({error:"Unauthorized"},{status:401});let r=t.substring(7);try{l().verify(r,c)}catch{return n.Z.json({error:"Invalid token"},{status:401})}let[s,a,o,i,d,p]=await Promise.all([u._.product.count(),Promise.resolve(156),Promise.resolve(45230.5),Promise.resolve(89),Promise.resolve([{id:"ORD-001",customerName:"John Doe",total:"1,299.99",status:"Completed"},{id:"ORD-002",customerName:"Jane Smith",total:"899.50",status:"Processing"},{id:"ORD-003",customerName:"Mike Johnson",total:"2,199.00",status:"Shipped"},{id:"ORD-004",customerName:"Sarah Wilson",total:"599.99",status:"Pending"},{id:"ORD-005",customerName:"David Brown",total:"1,499.99",status:"Completed"}]),u._.product.findMany({where:{stock:{lt:10}},select:{id:!0,name:!0,stock:!0,sku:!0},take:5,orderBy:{stock:"asc"}})]),m=p.map(e=>({...e,minStock:5}));return n.Z.json({totalProducts:s,totalOrders:a,totalRevenue:o,totalCustomers:i,recentOrders:d,lowStockProducts:m})}catch(e){return console.error("Dashboard stats error:",e),n.Z.json({error:"Internal server error"},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/admin/dashboard/stats/route",pathname:"/api/admin/dashboard/stats",filename:"route",bundlePath:"app/api/admin/dashboard/stats/route"},resolvedPagePath:"/Users/koketsomabuela/alldeals/app/api/admin/dashboard/stats/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:v,serverHooks:k,headerHooks:P,staticGenerationBailout:b}=m,g="/api/admin/dashboard/stats/route";function x(){return(0,i.patchFetch)({serverHooks:k,staticGenerationAsyncStorage:v})}},15204:(e,t,r)=>{r.d(t,{_:()=>o});var s=r(53524);let a=globalThis,o=a.prisma??new s.PrismaClient}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[3271,8107,6721],()=>r(11725));module.exports=s})();