exports.id=3525,exports.ids=[3525],exports.modules={41699:(e,s,a)=>{Promise.resolve().then(a.bind(a,88593))},16453:(e,s,a)=>{"use strict";a.d(s,{l:()=>N});var t=a(53854),r=a(34218),n=a(75548),i=a.n(n),l=a(51018),d=a(88593),o=a(25572),c=a(36934),m=a(29539),h=a(17112),x=a(78466),u=a(37004),f=a(10518),g=a(74920),p=a(1559),v=a(37546),y=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,y.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var j=a(7857),k=a(56370);let w=[{name:"Dashboard",href:"/admin/dashboard",icon:o.Z},{name:"Products",href:"/admin/products",icon:c.Z},{name:"Categories",href:"/admin/categories",icon:m.Z},{name:"Orders",href:"/admin/orders",icon:h.Z},{name:"Customers",href:"/admin/customers",icon:x.Z},{name:"Analytics",href:"/admin/analytics",icon:u.Z},{name:"Settings",href:"/admin/settings",icon:f.Z}];function N({children:e}){let[s,a]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),{user:c,logout:m}=(0,d.useAdmin)(),h=(0,l.usePathname)(),x=()=>{let e=!n;o(e),localStorage.setItem("admin-sidebar-collapsed",JSON.stringify(e))};return(0,r.useEffect)(()=>{let e=localStorage.getItem("admin-sidebar-collapsed");null!==e&&o(JSON.parse(e))},[]),(0,r.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"b"===e.key&&(e.preventDefault(),x())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[x]),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsxs)("div",{className:(0,k.cn)("fixed inset-0 flex z-50 md:hidden",s?"block":"hidden"),children:[t.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>a(!1)}),(0,t.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white shadow-xl",children:[t.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:t.jsx("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>a(!1),children:t.jsx(g.Z,{className:"h-6 w-6 text-white"})})}),t.jsx(Z,{navigation:w,pathname:h})]})]}),t.jsx("div",{className:"hidden md:block",children:t.jsx("div",{className:(0,k.cn)("fixed top-4 left-4 z-30 h-[calc(100vh-2rem)] bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden transition-all duration-300",n?"w-16":"w-64"),children:t.jsx(Z,{navigation:w,pathname:h,collapsed:n,onToggleCollapse:x})})}),(0,t.jsxs)("div",{className:"flex flex-col flex-1",children:[t.jsx("div",{className:"md:hidden sticky top-0 z-20 bg-white border-b border-gray-200 px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("button",{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:()=>a(!0),children:t.jsx(p.Z,{className:"h-6 w-6"})}),t.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"AllDeals Admin"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(j.z,{variant:"outline",size:"sm",asChild:!0,children:t.jsx(i(),{href:"/",target:"_blank",rel:"noopener noreferrer",children:t.jsx(v.Z,{className:"w-4 h-4"})})}),t.jsx(j.z,{variant:"outline",size:"sm",onClick:m,children:t.jsx(b,{className:"w-4 h-4"})})]})]})}),t.jsx("header",{className:(0,k.cn)("hidden md:block bg-white shadow-sm border-b border-gray-200 mr-4 mt-4 rounded-lg transition-all duration-300",n?"ml-20":"ml-72"),children:t.jsx("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"AllDeals Admin"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["Welcome, ",t.jsx("span",{className:"font-medium",children:c?.name})]}),t.jsx(j.z,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)(i(),{href:"/",target:"_blank",rel:"noopener noreferrer",children:[t.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"View as Customer"]})}),(0,t.jsxs)(j.z,{variant:"outline",size:"sm",onClick:m,children:[t.jsx(b,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),t.jsx("main",{className:(0,k.cn)("flex-1 md:mr-4 md:mb-4 transition-all duration-300",n?"md:ml-20":"md:ml-72"),children:t.jsx("div",{className:"bg-white md:rounded-lg md:shadow-sm md:border md:border-gray-200 min-h-[calc(100vh-8rem)]",children:t.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:e})})})]})]})}function Z({navigation:e,pathname:s,collapsed:a=!1,onToggleCollapse:r}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center h-16 flex-shrink-0 px-4 bg-blue-600 justify-between",children:[!a&&t.jsx("h1",{className:"text-white text-xl font-bold",children:"AllDeals"}),a&&t.jsx("div",{className:"text-white text-xl font-bold",children:"AD"}),r&&t.jsx("button",{onClick:r,className:"text-white hover:bg-blue-700 p-1 rounded transition-colors",title:a?"Expand Sidebar":"Collapse Sidebar",children:t.jsx(p.Z,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto",children:t.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:e.map(e=>{let r=s===e.href||s.startsWith(e.href+"/");return(0,t.jsxs)(i(),{href:e.href,className:(0,k.cn)("group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors relative",r?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900",a&&"justify-center"),title:a?e.name:void 0,children:[t.jsx(e.icon,{className:(0,k.cn)("flex-shrink-0 h-5 w-5",a?"mr-0":"mr-3",r?"text-blue-500":"text-gray-400 group-hover:text-gray-500")}),!a&&t.jsx("span",{className:"transition-opacity duration-300",children:e.name}),a&&t.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:e.name})]},e.name)})})})]})}},88593:(e,s,a)=>{"use strict";a.r(s),a.d(s,{AdminProvider:()=>l,useAdmin:()=>d});var t=a(53854),r=a(34218),n=a(51018);let i=(0,r.createContext)(void 0);function l({children:e}){let[s,a]=(0,r.useState)(null),[l,d]=(0,r.useState)(!0),o=(0,n.useRouter)(),c=(0,n.usePathname)();return((0,r.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("admin_token");if(!e){"/admin/login"!==c&&o.push("/admin/login"),d(!1);return}try{let s=await fetch("/api/admin/auth/verify",{headers:{Authorization:`Bearer ${e}`}});if(s.ok){let e=await s.json();a(e.user),"/admin/login"===c&&o.push("/admin/dashboard")}else localStorage.removeItem("admin_token"),"/admin/login"!==c&&o.push("/admin/login")}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("admin_token"),"/admin/login"!==c&&o.push("/admin/login")}finally{d(!1)}};e()},[c,o]),l)?t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):t.jsx(i.Provider,{value:{user:s,isLoading:l,logout:()=>{localStorage.removeItem("admin_token"),a(null),o.push("/admin/login")}},children:e})}function d(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e}},37004:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},36934:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},29539:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},78466:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(23708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},86631:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(4656),r=a(95153);let n=(0,r.createProxy)(String.raw`/Users/koketsomabuela/alldeals/components/admin/admin-provider.tsx`),{__esModule:i,$$typeof:l}=n;n.default;let d=(0,r.createProxy)(String.raw`/Users/koketsomabuela/alldeals/components/admin/admin-provider.tsx#AdminProvider`);function o({children:e}){return t.jsx(d,{children:e})}(0,r.createProxy)(String.raw`/Users/koketsomabuela/alldeals/components/admin/admin-provider.tsx#useAdmin`)}};